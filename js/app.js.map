{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/app.js","webpack:///./src/js/test-module.js"],"names":["require","Vec","x","y","this","Math","value","fact","Rect","c","pos","size","Ball","Player","Pong","_canvas","_context","canvas","ball","players","width","forEach","player","callback","lastTime","requestAnimationFrame","CHAR_PIXEL","CHARS","document","context","str","fill","i","reset","len","fillStyle","fillRect","drawRect","drawScore","rect","align","CHAR_W","chars","offset","index","char","height","vel","dt","right","playerId","bottom","draw","pong","scale","event","module","hello"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const testModules = require('./test-module');\n// require('../css/app.css');\n\nclass Vec {\n  constructor(x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  get len() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  set len(value) {\n    const fact = value / this.len;\n    this.x *= fact;\n    this.y *= fact;\n  }\n}\n\nclass Rect {\n  constructor(w, h) {\n    this.pos = new Vec;\n    this.size = new Vec(w, h);\n  }\n\n  get left() {\n    return this.pos.x - this.size.x / 2;\n  }\n\n  get right() {\n    return this.pos.x + this.size.x / 2;\n  }\n\n  get top() {\n    return this.pos.y - this.size.y / 2;\n  }\n\n  get bottom() {\n    return this.pos.y + this.size.y / 2;\n  }\n}\n\nclass Ball extends Rect {\n  constructor() {\n    super(10, 10);\n    this.vel = new Vec;\n  }\n}\n\nclass Player extends Rect {\n  constructor() {\n    super(20, 100);\n    this.score = 0;\n  }\n}\n\nclass Pong {\n  constructor(canvas) {\n    this._canvas = canvas;\n    this._context = canvas.getContext(\"2d\");\n\n    this.ball = new Ball;\n\n\n    this.players = [\n      new Player,\n      new Player\n    ];\n\n    this.players[0].pos.x = 40;\n    this.players[1].pos.x = this._canvas.width - 40;\n    this.players.forEach(player => {\n      player.pos.y = this._canvas.height / 2;\n    });\n\n    let lastTime;\n\n    const callback = (millis) => {\n      if(lastTime) {\n        this.update((millis - lastTime) / 1000);\n      }\n      lastTime = millis;\n      requestAnimationFrame(callback);\n    };\n\n    callback();\n\n    this.CHAR_PIXEL = 10;\n    this.CHARS = [\n      '111101101101111',\n      '010010010010010',\n      '111001111100111',\n      '111001111001111',\n      '101101111001001',\n      '111100111001111',\n      '111100111101111',\n      '111001001001001',\n      '111101111101111',\n      '111101111001111'\n    ].map(str => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.height = this.CHAR_PIXEL * 5;\n      canvas.width = this.CHAR_PIXEL * 3;\n\n      const context = canvas.getContext(\"2d\");\n      context.fillStyle = \"#fff\";\n      str.split(\"\").forEach((fill, i) => {\n        if(fill === \"1\") {\n          context.fillRect(\n            (i % 3) * this.CHAR_PIXEL,\n            (i / 3 | 0) * this.CHAR_PIXEL,\n            this.CHAR_PIXEL,\n            this.CHAR_PIXEL);\n        }\n      });\n      return canvas;\n    });\n\n    this.reset();\n  }\n\n  collide(player, ball) {\n    if(player.left < ball.right && player.right > ball.left && player.top < ball.bottom && player.bottom > ball.top) {\n      const len = ball.vel.len;\n      ball.vel.x = -ball.vel.x;\n      ball.vel.y += 300 * (Math.random() - .5);\n      ball.vel.len = len * 1.05;\n    }\n  }\n\n  draw() {\n    this._context.fillStyle = \"#000\";\n    this._context.fillRect(0, 0,\n      this._canvas.width, this._canvas.height);\n\n    this.drawRect(this.ball);\n\n    this.players.forEach(player => this.drawRect(player));\n\n    this.drawScore();\n  }\n\n  drawRect(rect) {\n    this._context.fillStyle = \"#fff\";\n    this._context.fillRect(rect.left, rect.top,\n      rect.size.x, rect.size.y);\n  }\n\n  drawScore() {\n    const align = this._canvas.width / 3;\n    const CHAR_W = this.CHAR_PIXEL * 4;\n    this.players.forEach((player, index) => {\n      const chars = player.score.toString().split(\"\");\n      const offset = align * (index + 1) - (CHAR_W * chars.length / 2) + this.CHAR_PIXEL / 2;\n\n      chars.forEach((char, pos) => {\n        this._context.drawImage(this.CHARS[char | 0],\n        offset + pos * CHAR_W, 20);\n      });\n    })\n  }\n\n  reset() {\n    this.ball.pos.x = this._canvas.width / 2;\n    this.ball.pos.y = this._canvas.height / 2;\n\n    this.ball.vel.x = 0;\n    this.ball.vel.y = 0;\n  }\n\n  start() {\n    if(this.ball.vel.x === 0 && this.ball.vel.y === 0) {\n      this.ball.vel.x = 300 * (Math.random() > .5 ? 1 : -1);\n      this.ball.vel.y = 300 * (Math.random() * 2 - 1);\n\n      this.ball.vel.len = 200 * 3;\n    }\n  }\n\n  update(dt) {\n    this.ball.pos.x += this.ball.vel.x * dt;\n    this.ball.pos.y += this.ball.vel.y * dt;\n\n    if(this.ball.left < 0 || this.ball.right > this._canvas.width) {\n      const playerId = this.ball.vel.x < 0 | 0;\n\n      this.players[playerId].score ++;\n      this.reset();\n\n    }\n\n    if(this.ball.top < 0 || this.ball.bottom > this._canvas.height) {\n      this.ball.vel.y = -this.ball.vel.y;\n    }\n\n    this.players[1].pos.y = this.ball.pos.y;\n\n    this.players.forEach(player => this.collide(player, this.ball));\n\n    this.draw();\n  }\n}\n\nconst canvas = document.getElementById(\"pong\");\nconst pong = new Pong(canvas);\n\ncanvas.addEventListener(\"mousemove\", event => {\n  const scale = event.offsetY / event.target.getBoundingClientRect().height;\n  pong.players[0].pos.y = canvas.height * scale;\n});\n\ncanvas.addEventListener(\"click\", event => {\n  pong.start();\n});\n","module.exports = {\n\thello: 'world'\n};"],"sourceRoot":""}