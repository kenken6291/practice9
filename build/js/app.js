!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(e){return t[e]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=0)}([function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n(1);var c=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;s(this,t),this.x=e,this.y=n}return u(t,[{key:"len",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set:function(t){var e=t/this.len;this.x*=e,this.y*=e}}]),t}(),h=function(){function t(e,n){s(this,t),this.pos=new c,this.size=new c(e,n)}return u(t,[{key:"left",get:function(){return this.pos.x-this.size.x/2}},{key:"right",get:function(){return this.pos.x+this.size.x/2}},{key:"top",get:function(){return this.pos.y-this.size.y/2}},{key:"bottom",get:function(){return this.pos.y+this.size.y/2}}]),t}(),f=function(t){function e(){var t;return s(this,e),(t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,10,10))).vel=new c,t}return r(e,t),e}(h),y=function(t){function e(){var t;return s(this,e),(t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,20,100))).score=0,t}return r(e,t),e}(h),p=function(){function t(e){var n,i=this;s(this,t),this._canvas=e,this._context=e.getContext("2d"),this.ball=new f,this.players=[new y,new y],this.players[0].pos.x=40,this.players[1].pos.x=this._canvas.width-40,this.players.forEach((function(t){t.pos.y=i._canvas.height/2})),function t(e){n&&i.update((e-n)/1e3),n=e,requestAnimationFrame(t)}(),this.CHAR_PIXEL=10,this.CHARS=["111101101101111","010010010010010","111001111100111","111001111001111","101101111001001","111100111001111","111100111101111","111001001001001","111101111101111","111101111001111"].map((function(t){var e=document.createElement("canvas");e.height=5*i.CHAR_PIXEL,e.width=3*i.CHAR_PIXEL;var n=e.getContext("2d");return n.fillStyle="#fff",t.split("").forEach((function(t,e){"1"===t&&n.fillRect(e%3*i.CHAR_PIXEL,(0|e/3)*i.CHAR_PIXEL,i.CHAR_PIXEL,i.CHAR_PIXEL)})),e})),this.reset()}return u(t,[{key:"collide",value:function(t,e){if(t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top){var n=e.vel.len;e.vel.x=-e.vel.x,e.vel.y+=300*(Math.random()-.5),e.vel.len=1.05*n}}},{key:"draw",value:function(){var t=this;this._context.fillStyle="#000",this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this.drawRect(this.ball),this.players.forEach((function(e){return t.drawRect(e)})),this.drawScore()}},{key:"drawRect",value:function(t){this._context.fillStyle="#fff",this._context.fillRect(t.left,t.top,t.size.x,t.size.y)}},{key:"drawScore",value:function(){var t=this,e=this._canvas.width/3,n=4*this.CHAR_PIXEL;this.players.forEach((function(i,o){var r=i.score.toString().split(""),l=e*(o+1)-n*r.length/2+t.CHAR_PIXEL/2;r.forEach((function(e,i){t._context.drawImage(t.CHARS[0|e],l+i*n,20)}))}))}},{key:"reset",value:function(){this.ball.pos.x=this._canvas.width/2,this.ball.pos.y=this._canvas.height/2,this.ball.vel.x=0,this.ball.vel.y=0}},{key:"start",value:function(){0===this.ball.vel.x&&0===this.ball.vel.y&&(this.ball.vel.x=300*(.5<Math.random()?1:-1),this.ball.vel.y=300*(2*Math.random()-1),this.ball.vel.len=600)}},{key:"update",value:function(t){var e=this;if(this.ball.pos.x+=this.ball.vel.x*t,this.ball.pos.y+=this.ball.vel.y*t,0>this.ball.left||this.ball.right>this._canvas.width){var n=0|0>this.ball.vel.x;this.players[n].score++,this.reset()}(0>this.ball.top||this.ball.bottom>this._canvas.height)&&(this.ball.vel.y=-this.ball.vel.y),this.players[1].pos.y=this.ball.pos.y,this.players.forEach((function(t){return e.collide(t,e.ball)})),this.draw()}}]),t}(),v=document.getElementById("pong"),b=new p(v);v.addEventListener("mousemove",(function(t){var e=t.offsetY/t.target.getBoundingClientRect().height;b.players[0].pos.y=v.height*e})),v.addEventListener("click",(function(){b.start()}))},function(t){t.exports={hello:"world"}}]);
//# sourceMappingURL=app.js.map